gsap.registerPlugin(ScrollTrigger,MotionPathPlugin),gsap.defaults({ease:"power3.out",duration:1});let easeIn="power3.in",easeInOut="power3.inOut",durationXs=.6,durationS=.75,durationL=1.25,durationXL=1.5;const breakpoints={mobile:479,mobileLandscape:767,tablet:991};let mm=gsap.matchMedia();function relaodBreakpoints(){function t(){const t=window.innerWidth;return t<=breakpoints.mobile?"mobile":t<=breakpoints.mobileLandscape?"mobileLandscape":t<=breakpoints.tablet?"tablet":"desktop"}let e=t();function o(){const o=t();o!==e&&(e=o,location.reload())}window.addEventListener("resize",o),window.addEventListener("load",o)}function setupFormInteraction(t={}){const{formSelector:e=".footer__form",inputSelector:o=".footer__form--input",buttonSelector:n=".footer__form--submit",externalInputSelector:a='[data-testid="input"]',externalButtonSelector:r='[data-testid="button"]'}=t,i=document.querySelector(e),l=document.querySelector(o),c=document.querySelector(n),u=document.querySelector(a),d=document.querySelector(r);i&&l&&c?(l.addEventListener("input",(function(){u&&(u.value=this.value)})),i.addEventListener("submit",(function(t){t.preventDefault(),d?d.click():console.warn("Le bouton du formulaire externe n'a pas été trouvé.")}))):console.error("Les éléments du formulaire personnalisé n'ont pas été trouvés.")}gsap.set("[data-visibility]",{visibility:"visible"});let navbar=document.querySelector("[data-nav]"),mobileMenuOpened=!1,lastScrollPosition=0;function initNavAppear(){gsap.set(navbar,{autoAlpha:0}),gsap.to(navbar,{yPercent:0,autoAlpha:1,duration:durationL},.2)}function initScrollNav(){let t=gsap.from(navbar,{yPercent:-180,paused:!0,ease:easeInOut}).progress(1);ScrollTrigger.create({start:"top top",end:"max",onUpdate:e=>{mobileMenuOpened||(-1===e.direction?t.play():t.reverse())}})}function initNavDropdown(){let t=navbar.querySelectorAll("[data-nav-dropdown]");0!==t.lenght&&t.forEach((t=>{let e=t.querySelector("[data-nav-submenu]"),o=e.querySelector("[data-submenu-inner]");gsap.set(e,{autoAlpha:0});let n=gsap.timeline({paused:!0});n.set(o,{backdropFilter:"blur(16px)"}),n.to(e,{autoAlpha:1,yPercent:0,duration:durationXs}),t.addEventListener("mouseenter",(function(){n.play()})),t.addEventListener("mouseleave",(function(){n.reverse()}))}))}function openNavMobile(){let t=document.querySelector("[data-nav-mobile-btn]"),e=document.querySelector("[data-nav-mobile-menu]"),o=(document.querySelectorAll("[data-nav-mobile-link]"),document.querySelector(".nav__mobile-btn--icon")),n=document.querySelector(".nav__mobile-btn--close-line"),a=gsap.timeline({paused:!0});a.from(e,{autoAlpha:0,duration:durationXs}),a.to(o,{opacity:0},"<"),a.to(n,{opacity:1},"<"),t.addEventListener("click",(()=>{0===a.progress()?(a.play(),mobileMenuOpened=!0,lastScrollPosition=window.pageYOffset||document.documentElement.scrollTop,gsap.to(navbar,{yPercent:0,duration:durationXs})):(a.reverse(),mobileMenuOpened=!1)})),window.addEventListener("scroll",(()=>{if(!mobileMenuOpened){let t=window.pageYOffset||document.documentElement.scrollTop;t!==lastScrollPosition&&(lastScrollPosition=t,ScrollTrigger.update())}})),e.querySelectorAll("[data-nav-mobile-dropdown]").forEach((t=>{let e=t.querySelector(".nav__mobile-link--icon"),o=t.querySelector(".nav__mobile-dropdown--background"),n=gsap.timeline({paused:!0});n.to(t,{height:"auto",ease:easeInOut}),n.from(o,{opacity:0},"<"),n.to(e,{rotateZ:"180deg"},0),t.addEventListener("click",(()=>{0===n.progress()?n.play():n.reverse()}))}))}function initFadeUp(){let t=document.querySelectorAll("[data-fade-up]");0!==t.lenght&&t.forEach((t=>{gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%"}}).from(t,{opacity:0,yPercent:30,duration:durationL})}))}function initCanvas(){let t=document.querySelector("[data-canvas]");t&&gsap.from(t,{opacity:0,duration:durationL},.75)}function initTransition(){let t=document.querySelector("[data-transition]");gsap.timeline().set(t,{autoAlpha:0}),$("a:not(.excluded-class)").on("click",(function(e){let o=$(this).attr("href");if($(this).prop("hostname")===window.location.host&&!o.includes("#")&&"_blank"!==$(this).attr("target")){e.preventDefault(),gsap.timeline({onComplete:()=>window.location.href=o}).fromTo(t,{autoAlpha:0},{autoAlpha:1})}})),window.onpageshow=function(t){t.persisted&&window.location.reload()}}function initHeroMain(){let t=document.querySelector("[data-hero-main-title] .g_heading_rich h1");if(!t)return;let e=document.querySelector("[data-hero-main-paragraph] .g_paragraph_rich p"),o=document.querySelector("[data-hero-main-eyebrow]"),n=document.querySelector("[data-hero-main-btn-list]"),a=document.querySelector("[data-hero-main-customer-marquee]");const r=gsap.timeline();mm.add("(min-width: 480px)",(()=>{r.from([t,e,o,n,a],{opacity:0},.75)}))}function initProducts(){let t=document.querySelectorAll(".products__visual--img");0!==t.lenght&&t.forEach((t=>{t.querySelector(".products__svg--gradient"),t.querySelector(".products__svg--main");gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%",scrub:!1}}).from(t,{opacity:0})}))}function initFadeList(){let t=document.querySelectorAll("[data-fade-item-wrap]");0!==t.lenght&&t.forEach((t=>{let e=t.querySelectorAll("[data-fade-item]");gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%"}}).from(e,{opacity:0,stagger:.2,duration:durationL})}))}function initCtaPath(){let t=document.getElementById("path-top-left"),e=document.getElementById("path-center-left"),o=document.getElementById("path-bottom-left"),n=document.getElementById("path-top-right"),a=document.getElementById("path-center-right"),r=document.getElementById("path-bottom-right"),i=document.querySelectorAll(".cta-s__svg--blur.is--top-left"),l=document.querySelectorAll(".cta-s__svg--blur.is--center-left"),c=document.querySelectorAll(".cta-s__svg--blur.is--bottom-left"),u=document.querySelectorAll(".cta-s__svg--blur.is--top-right"),d=document.querySelectorAll(".cta-s__svg--blur.is--center-right"),s=document.querySelectorAll(".cta-s__svg--blur.is--bottom-right"),p=document.querySelectorAll(".cta-s__svg--rect");if(0===p.length)return;let m=gsap.timeline({repeat:-1});m.to(i,{duration:5,motionPath:{path:t,align:t,alignOrigin:[.5,.5],autoRotate:!0,start:.15}}),m.to(l,{duration:5,motionPath:{path:e,align:e,alignOrigin:[.5,.5],autoRotate:!0,start:.15}},"<0.5"),m.to(c,{duration:5,motionPath:{path:o,align:o,alignOrigin:[.5,.5],autoRotate:!0,start:.15}},"<-0.4"),m.to(u,{duration:5,motionPath:{path:n,align:n,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},3),m.to(d,{duration:5,motionPath:{path:a,align:a,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},"<"),m.to(s,{duration:5,motionPath:{path:r,align:r,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},"<"),gsap.from(p,{opacity:0,stagger:{each:.5,from:"end"},repeat:-1,yoyo:!0,ease:"none"},0)}function initPricingHero(){let t=document.querySelector("[data-pricing-title]");if(!t)return;let e=document.querySelector("[data-pricing-subtitle]"),o=(document.querySelector("[data-pricing-selector]"),document.querySelectorAll('[data-pricing-card="monthly"]')),n=document.querySelector("[data-pricing-background]"),a=gsap.timeline();a.from([n,t,e],{opacity:0},.5),a.from(o,{opacity:0},"<0.25")}function initContact(){let t=document.querySelector("[data-contact-hero-content]");if(!t)return;let e=document.querySelector("[data-contact-cta-wrap]"),o=document.querySelectorAll("[data-contact-background]");gsap.timeline().from([t,o,e],{opacity:0},.5)}function initGlobal(){relaodBreakpoints(),setupFormInteraction(),initScrollNav(),initNavAppear(),initNavDropdown(),openNavMobile(),initFadeUp(),initCanvas(),initTransition(),initHeroMain(),initProducts(),initFadeList(),initCtaPath(),initPricingHero(),initContact()}initGlobal();
